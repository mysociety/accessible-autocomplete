{"version":3,"sources":["webpack://Autocomplete/webpack/universalModuleDefinition","webpack://Autocomplete/webpack/bootstrap","webpack://Autocomplete/external {\"amd\":\"preact\",\"commonjs\":\"preact\",\"commonjs2\":\"preact\",\"root\":\"preact\"}","webpack://Autocomplete/./status.js","webpack://Autocomplete/./dropdown-arrow-down.js","webpack://Autocomplete/./autocomplete.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Status","state","bump","debounced","componentWillMount","func","wait","immediate","timeout","that","this","debounceStatusUpdate","shouldSilence","props","isInFocus","validChoiceMade","setState","_ref","silenced","context","args","arguments","callNow","clearTimeout","setTimeout","apply","componentWillReceiveProps","_ref2","queryLength","render","_this$props","id","length","minQueryLength","selectedOption","selectedOptionIndex","tQueryTooShort","tNoResults","tSelectedOption","tResults","_this$state","queryTooShort","noResults","contentSelectedOption","content","external_amd_preact_commonjs_preact_commonjs2_preact_root_preact_","style","border","clip","height","marginBottom","marginRight","overflow","padding","position","whiteSpace","width","role","aria-atomic","aria-live","Component","defaultProps","index","DropdownArrowDown","className","version","xmlns","focusable","stroke","fill","fill-rule","points","keyCodes","13","27","32","38","40","isIosDevice","navigator","userAgent","match","Autocomplete","_this","_Component","elementReferences","focused","hovered","menuOpen","options","defaultValue","query","selected","ariaHint","handleComponentBlur","_assertThisInitialized","handleKeyDown","handleUpArrow","handleDownArrow","handleEnter","handlePrintableKey","handleListMouseLeave","handleOptionBlur","handleOptionClick","handleOptionFocus","handleOptionMouseDown","handleOptionMouseEnter","handleInputBlur","handleInputChange","handleInputFocus","pollInputElement","getDirectInputChanges","isQueryAnOption","_this2","map","entry","templateInputValue","toLowerCase","indexOf","componentDidMount","componentWillUnmount","$pollInput","_this3","inputReference","target","componentDidUpdate","prevProps","prevState","componentLostFocus","focusedChanged","focus","focusedInput","componentGainedFocus","inputElement","setSelectionRange","hasAutoselect","autoselect","inputValueTemplate","templates","inputValue","templateSuggestion","suggestionTemplate","suggestion","newState","newQuery","confirmOnBlur","onConfirm","event","_this$state2","focusingOutsideComponent","relatedTarget","focusingInput","focusingAnotherOption","keepMenuOpen","_this$state3","_this4","minLength","source","showAllValues","queryEmpty","queryChanged","queryLongEnough","optionsAvailable","handleInputClick","_this$state4","shouldReopenMenu","forceUpdate","preventDefault","_this$state5","_this5","_this$state6","handleSpace","_this6","keyCode","dropdownArrow","_this7","_this$props2","cssNamespace","displayMenu","placeholder","required","tStatusQueryTooShort","tStatusNoResults","tStatusSelectedOption","tStatusResults","tAssistiveHint","dropdownArrowFactory","_this$state7","inputFocused","noOptionsAvailable","queryNotEmpty","showNoOptionsFound","wrapperClassName","inputClassName","inputModifierFocused","inputModifierType","dropdownArrowClassName","optionFocused","menuClassName","menuModifierDisplayMenu","menuModifierVisibility","optionClassName","hintClassName","selectedOptionText","hintValue","substr","assistiveHintID","ariaDescribedProp","aria-describedby","dangerouslySetInnerHTML","__html","onKeyDown","status_Status","readonly","tabIndex","_extends","aria-expanded","aria-activedescendant","aria-owns","aria-autocomplete","autoComplete","onClick","onBlur","onInput","onFocus","ref","type","onMouseLeave","option","optionModifierFocused","optionModifierOdd","iosPosinsetHtml","aria-selected","onMouseDown","onMouseEnter","optionEl","aria-posinset","aria-setsize","display"],"mappings":"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","file":"lib/accessible-autocomplete.preact.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"preact\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"preact\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Autocomplete\"] = factory(require(\"preact\"));\n\telse\n\t\troot[\"Autocomplete\"] = factory(root[\"preact\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import { createElement, Component } from 'preact' /** @jsx createElement */\n\nconst debounce = function (func, wait, immediate) {\n  var timeout\n  return function () {\n    var context = this\n    var args = arguments\n    var later = function () {\n      timeout = null\n      if (!immediate) func.apply(context, args)\n    }\n    var callNow = immediate && !timeout\n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    if (callNow) func.apply(context, args)\n  }\n}\nconst statusDebounceMillis = 1400\n\nexport default class Status extends Component {\n  static defaultProps = {\n    tQueryTooShort: (minQueryLength) => `Type in ${minQueryLength} or more characters for results`,\n    tNoResults: () => 'No search results',\n    tSelectedOption: (selectedOption, length, index) => `${selectedOption} ${index + 1} of ${length} is highlighted`,\n    tResults: (length, contentSelectedOption) => {\n      const words = {\n        result: (length === 1) ? 'result' : 'results',\n        is: (length === 1) ? 'is' : 'are'\n      }\n\n      return `${length} ${words.result} ${words.is} available. ${contentSelectedOption}`\n    }\n  };\n\n  state = {\n    bump: false,\n    debounced: false\n  }\n\n  componentWillMount () {\n    const that = this\n    this.debounceStatusUpdate = debounce(function () {\n      if (!that.state.debounced) {\n        const shouldSilence = !that.props.isInFocus || that.props.validChoiceMade\n        that.setState(({ bump }) => ({ bump: !bump, debounced: true, silenced: shouldSilence }))\n      }\n    }, statusDebounceMillis)\n  }\n\n  componentWillReceiveProps ({ queryLength }) {\n    this.setState({ debounced: false })\n  }\n\n  render () {\n    const {\n      id,\n      length,\n      queryLength,\n      minQueryLength,\n      selectedOption,\n      selectedOptionIndex,\n      tQueryTooShort,\n      tNoResults,\n      tSelectedOption,\n      tResults\n    } = this.props\n    const { bump, debounced, silenced } = this.state\n\n    const queryTooShort = queryLength < minQueryLength\n    const noResults = length === 0\n\n    const contentSelectedOption = selectedOption\n      ? tSelectedOption(selectedOption, length, selectedOptionIndex)\n      : ''\n\n    let content = null\n    if (queryTooShort) {\n      content = tQueryTooShort(minQueryLength)\n    } else if (noResults) {\n      content = tNoResults()\n    } else {\n      content = tResults(length, contentSelectedOption)\n    }\n\n    this.debounceStatusUpdate()\n\n    return (\n      <div\n        style={{\n          border: '0',\n          clip: 'rect(0 0 0 0)',\n          height: '1px',\n          marginBottom: '-1px',\n          marginRight: '-1px',\n          overflow: 'hidden',\n          padding: '0',\n          position: 'absolute',\n          whiteSpace: 'nowrap',\n          width: '1px'\n        }}>\n        <div\n          id={id + '__status--A'}\n          role='status'\n          aria-atomic='true'\n          aria-live='polite'>\n          {(!silenced && debounced && bump) ? content : ''}\n        </div>\n        <div\n          id={id + '__status--B'}\n          role='status'\n          aria-atomic='true'\n          aria-live='polite'>\n          {(!silenced && debounced && !bump) ? content : ''}\n        </div>\n      </div>\n    )\n  }\n}\n","import { createElement } from 'preact' /** @jsx createElement */\n\nconst DropdownArrowDown = ({ className }) => (\n  <svg version='1.1' xmlns='http://www.w3.org/2000/svg' className={className} focusable='false'>\n    <g stroke='none' fill='none' fill-rule='evenodd'>\n      <polygon fill='#000000' points='0 0 22 0 11 17' />\n    </g>\n  </svg>\n)\n\nexport default DropdownArrowDown\n","import { createElement, Component } from 'preact' /** @jsx createElement */\nimport Status from './status'\nimport DropdownArrowDown from './dropdown-arrow-down'\n\nconst IS_PREACT = process.env.COMPONENT_LIBRARY === 'PREACT'\nconst IS_REACT = process.env.COMPONENT_LIBRARY === 'REACT'\n\nconst keyCodes = {\n  13: 'enter',\n  27: 'escape',\n  32: 'space',\n  38: 'up',\n  40: 'down'\n}\n\nfunction isIosDevice () {\n  return typeof navigator !== 'undefined' && !!(navigator.userAgent.match(/(iPod|iPhone|iPad)/g) && navigator.userAgent.match(/AppleWebKit/g))\n}\n\nfunction isPrintableKeyCode (keyCode) {\n  return (\n    (keyCode > 47 && keyCode < 58) || // number keys\n    keyCode === 32 || keyCode === 8 || // spacebar or backspace\n    (keyCode > 64 && keyCode < 91) || // letter keys\n    (keyCode > 95 && keyCode < 112) || // numpad keys\n    (keyCode > 185 && keyCode < 193) || // ;=,-./` (in order)\n    (keyCode > 218 && keyCode < 223) // [\\]' (in order)\n  )\n}\n\n// Preact does not implement onChange on inputs, but React does.\nfunction onChangeCrossLibrary (handler) {\n  if (IS_PREACT) { return { onInput: handler } }\n  if (IS_REACT) { return { onChange: handler } }\n}\n\nexport default class Autocomplete extends Component {\n  static defaultProps = {\n    autoselect: false,\n    cssNamespace: 'autocomplete',\n    defaultValue: '',\n    displayMenu: 'inline',\n    minLength: 0,\n    name: 'input-autocomplete',\n    placeholder: '',\n    onConfirm: () => {},\n    confirmOnBlur: true,\n    showNoOptionsFound: true,\n    showAllValues: false,\n    required: false,\n    tNoResults: () => 'No results found',\n    tAssistiveHint: () => 'When autocomplete results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures.',\n    dropdownArrow: DropdownArrowDown\n  }\n\n  elementReferences = {}\n\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      focused: null,\n      hovered: null,\n      menuOpen: false,\n      options: props.defaultValue ? [props.defaultValue] : [],\n      query: props.defaultValue,\n      validChoiceMade: false,\n      selected: null,\n      ariaHint: true\n    }\n\n    this.handleComponentBlur = this.handleComponentBlur.bind(this)\n    this.handleKeyDown = this.handleKeyDown.bind(this)\n    this.handleUpArrow = this.handleUpArrow.bind(this)\n    this.handleDownArrow = this.handleDownArrow.bind(this)\n    this.handleEnter = this.handleEnter.bind(this)\n    this.handlePrintableKey = this.handlePrintableKey.bind(this)\n\n    this.handleListMouseLeave = this.handleListMouseLeave.bind(this)\n\n    this.handleOptionBlur = this.handleOptionBlur.bind(this)\n    this.handleOptionClick = this.handleOptionClick.bind(this)\n    this.handleOptionFocus = this.handleOptionFocus.bind(this)\n    this.handleOptionMouseDown = this.handleOptionMouseDown.bind(this)\n    this.handleOptionMouseEnter = this.handleOptionMouseEnter.bind(this)\n\n    this.handleInputBlur = this.handleInputBlur.bind(this)\n    this.handleInputChange = this.handleInputChange.bind(this)\n    this.handleInputFocus = this.handleInputFocus.bind(this)\n\n    this.pollInputElement = this.pollInputElement.bind(this)\n    this.getDirectInputChanges = this.getDirectInputChanges.bind(this)\n  }\n\n  isQueryAnOption (query, options) {\n    return options.map(entry => this.templateInputValue(entry).toLowerCase()).indexOf(query.toLowerCase()) !== -1\n  }\n\n  componentDidMount () {\n    this.pollInputElement()\n  }\n\n  componentWillUnmount () {\n    clearTimeout(this.$pollInput)\n  }\n\n  // Applications like Dragon NaturallySpeaking will modify the\n  // `input` field by directly changing its `.value`. These events\n  // don't trigger our JavaScript event listeners, so we need to poll\n  // to handle when and if they occur.\n  pollInputElement () {\n    this.getDirectInputChanges()\n    this.$pollInput = setTimeout(() => {\n      this.pollInputElement()\n    }, 100)\n  }\n\n  getDirectInputChanges () {\n    const inputReference = this.elementReferences[-1]\n    const queryHasChanged = inputReference && inputReference.value !== this.state.query\n\n    if (queryHasChanged) {\n      this.handleInputChange({ target: { value: inputReference.value } })\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    const { focused } = this.state\n    const componentLostFocus = focused === null\n    const focusedChanged = prevState.focused !== focused\n    const focusDifferentElement = focusedChanged && !componentLostFocus\n    if (focusDifferentElement) {\n      this.elementReferences[focused].focus()\n    }\n    const focusedInput = focused === -1\n    const componentGainedFocus = focusedChanged && prevState.focused === null\n    const selectAllText = focusedInput && componentGainedFocus\n    if (selectAllText) {\n      const inputElement = this.elementReferences[focused]\n      inputElement.setSelectionRange(0, inputElement.value.length)\n    }\n  }\n\n  hasAutoselect () {\n    return isIosDevice() ? false : this.props.autoselect\n  }\n\n  // This template is used when converting from a state.options object into a state.query.\n  templateInputValue (value) {\n    const inputValueTemplate = this.props.templates && this.props.templates.inputValue\n    return inputValueTemplate ? inputValueTemplate(value) : value\n  }\n\n  // This template is used when displaying results / suggestions.\n  templateSuggestion (value) {\n    const suggestionTemplate = this.props.templates && this.props.templates.suggestion\n    return suggestionTemplate ? suggestionTemplate(value) : value\n  }\n\n  handleComponentBlur (newState) {\n    const { options, query, selected } = this.state\n    let newQuery\n    if (this.props.confirmOnBlur) {\n      newQuery = newState.query || query\n      this.props.onConfirm(options[selected])\n    } else {\n      newQuery = query\n    }\n    this.setState({\n      focused: null,\n      menuOpen: newState.menuOpen || false,\n      query: newQuery,\n      selected: null,\n      validChoiceMade: this.isQueryAnOption(newQuery, options)\n    })\n  }\n\n  handleListMouseLeave (event) {\n    this.setState({\n      hovered: null\n    })\n  }\n\n  handleOptionBlur (event, index) {\n    const { focused, menuOpen, options, selected } = this.state\n    const focusingOutsideComponent = event.relatedTarget === null\n    const focusingInput = event.relatedTarget === this.elementReferences[-1]\n    const focusingAnotherOption = focused !== index && focused !== -1\n    const blurComponent = (!focusingAnotherOption && focusingOutsideComponent) || !(focusingAnotherOption || focusingInput)\n    if (blurComponent) {\n      const keepMenuOpen = menuOpen && isIosDevice()\n      this.handleComponentBlur({\n        menuOpen: keepMenuOpen,\n        query: this.templateInputValue(options[selected])\n      })\n    }\n  }\n\n  handleInputBlur (event) {\n    const { focused, menuOpen, options, query, selected } = this.state\n    const focusingAnOption = focused !== -1\n    if (!focusingAnOption) {\n      const keepMenuOpen = menuOpen && isIosDevice()\n      const newQuery = isIosDevice() ? query : this.templateInputValue(options[selected])\n      this.handleComponentBlur({\n        menuOpen: keepMenuOpen,\n        query: newQuery\n      })\n    }\n  }\n\n  handleInputChange (event) {\n    const { minLength, source, showAllValues } = this.props\n    const autoselect = this.hasAutoselect()\n    const query = event.target.value\n    const queryEmpty = query.length === 0\n    const queryChanged = this.state.query.length !== query.length\n    const queryLongEnough = query.length >= minLength\n\n    this.setState({\n      query,\n      ariaHint: queryEmpty\n    })\n\n    const searchForOptions = showAllValues || (!queryEmpty && queryChanged && queryLongEnough)\n    if (searchForOptions) {\n      source(query, (options) => {\n        const optionsAvailable = options.length > 0\n        this.setState({\n          menuOpen: optionsAvailable,\n          options,\n          selected: (autoselect && optionsAvailable) ? 0 : -1,\n          validChoiceMade: false\n        })\n      })\n    } else if (queryEmpty || !queryLongEnough) {\n      this.setState({\n        menuOpen: false,\n        options: []\n      })\n    }\n  }\n\n  handleInputClick (event) {\n    this.handleInputChange(event)\n  }\n\n  handleInputFocus (event) {\n    const { query, validChoiceMade, options } = this.state\n    const { minLength } = this.props\n    const shouldReopenMenu = !validChoiceMade && query.length >= minLength && options.length > 0\n\n    if (shouldReopenMenu) {\n      this.setState(({ menuOpen }) => ({ focused: -1, menuOpen: shouldReopenMenu || menuOpen, selected: -1 }))\n    } else {\n      this.setState({ focused: -1 })\n    }\n  }\n\n  handleOptionFocus (index) {\n    this.setState({\n      focused: index,\n      hovered: null,\n      selected: index\n    })\n  }\n\n  handleOptionMouseEnter (event, index) {\n    // iOS Safari prevents click event if mouseenter adds hover background colour\n    // See: https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/HandlingEvents/HandlingEvents.html#//apple_ref/doc/uid/TP40006511-SW4\n    if (!isIosDevice()) {\n      this.setState({\n        hovered: index\n      })\n    }\n  }\n\n  handleOptionClick (event, index) {\n    const selectedOption = this.state.options[index]\n    const newQuery = this.templateInputValue(selectedOption)\n    this.props.onConfirm(selectedOption)\n    this.setState({\n      focused: -1,\n      hovered: null,\n      menuOpen: false,\n      query: newQuery,\n      selected: -1,\n      validChoiceMade: true\n    })\n    this.forceUpdate()\n  }\n\n  handleOptionMouseDown (event) {\n    // Safari triggers focusOut before click, but if you\n    // preventDefault on mouseDown, you can stop that from happening.\n    // If this is removed, clicking on an option in Safari will trigger\n    // `handleOptionBlur`, which closes the menu, and the click will\n    // trigger on the element underneath instead.\n    // See: http://stackoverflow.com/questions/7621711/how-to-prevent-blur-running-when-clicking-a-link-in-jquery\n    event.preventDefault()\n  }\n\n  handleUpArrow (event) {\n    event.preventDefault()\n    const { menuOpen, selected } = this.state\n    const isNotAtTop = selected !== -1\n    const allowMoveUp = isNotAtTop && menuOpen\n    if (allowMoveUp) {\n      this.handleOptionFocus(selected - 1)\n    }\n  }\n\n  handleDownArrow (event) {\n    event.preventDefault()\n    // if not open, open\n    if (this.props.showAllValues && this.state.menuOpen === false) {\n      event.preventDefault()\n      this.props.source('', (options) => {\n        this.setState({\n          menuOpen: true,\n          options,\n          selected: 0,\n          focused: 0,\n          hovered: null\n        })\n      })\n    } else if (this.state.menuOpen === true) {\n      const { menuOpen, options, selected } = this.state\n      const isNotAtBottom = selected !== options.length - 1\n      const allowMoveDown = isNotAtBottom && menuOpen\n      if (allowMoveDown) {\n        this.handleOptionFocus(selected + 1)\n      }\n    }\n  }\n\n  handleSpace (event) {\n    // if not open, open\n    if (this.props.showAllValues && this.state.menuOpen === false && this.state.query === '') {\n      event.preventDefault()\n      this.props.source('', (options) => {\n        this.setState({\n          menuOpen: true,\n          options\n        })\n      })\n    }\n    const focusIsOnOption = this.state.focused !== -1\n    if (focusIsOnOption) {\n      event.preventDefault()\n      this.handleOptionClick(event, this.state.focused)\n    }\n  }\n\n  handleEnter (event) {\n    if (this.state.menuOpen) {\n      event.preventDefault()\n      const hasSelectedOption = this.state.selected >= 0\n      if (hasSelectedOption) {\n        this.handleOptionClick(event, this.state.selected)\n      }\n    }\n  }\n\n  handlePrintableKey (event) {\n    const inputElement = this.elementReferences[-1]\n    const eventIsOnInput = event.target === inputElement\n    if (!eventIsOnInput) {\n      // FIXME: This would be better if it was in componentDidUpdate,\n      // but using setState to trigger that seems to not work correctly\n      // in preact@8.1.0.\n      inputElement.focus()\n    }\n  }\n\n  handleKeyDown (event) {\n    switch (keyCodes[event.keyCode]) {\n      case 'up':\n        this.handleUpArrow(event)\n        break\n      case 'down':\n        this.handleDownArrow(event)\n        break\n      case 'space':\n        this.handleSpace(event)\n        break\n      case 'enter':\n        this.handleEnter(event)\n        break\n      case 'escape':\n        this.handleComponentBlur({\n          query: this.state.query\n        })\n        break\n      default:\n        if (isPrintableKeyCode(event.keyCode)) {\n          this.handlePrintableKey(event)\n        }\n        break\n    }\n  }\n\n  render () {\n    const {\n      cssNamespace,\n      displayMenu,\n      id,\n      minLength,\n      name,\n      placeholder,\n      required,\n      showAllValues,\n      tNoResults,\n      tStatusQueryTooShort,\n      tStatusNoResults,\n      tStatusSelectedOption,\n      tStatusResults,\n      tAssistiveHint,\n      dropdownArrow: dropdownArrowFactory\n    } = this.props\n    const { focused, hovered, menuOpen, options, query, selected, ariaHint, validChoiceMade } = this.state\n    const autoselect = this.hasAutoselect()\n\n    const inputFocused = focused === -1\n    const noOptionsAvailable = options.length === 0\n    const queryNotEmpty = query.length !== 0\n    const queryLongEnough = query.length >= minLength\n    const showNoOptionsFound = this.props.showNoOptionsFound &&\n      inputFocused && noOptionsAvailable && queryNotEmpty && queryLongEnough\n\n    const wrapperClassName = `${cssNamespace}__wrapper`\n\n    const inputClassName = `${cssNamespace}__input`\n    const componentIsFocused = focused !== null\n    const inputModifierFocused = componentIsFocused ? ` ${inputClassName}--focused` : ''\n    const inputModifierType = this.props.showAllValues ? ` ${inputClassName}--show-all-values` : ` ${inputClassName}--default`\n    const dropdownArrowClassName = `${cssNamespace}__dropdown-arrow-down`\n    const optionFocused = focused !== -1 && focused !== null\n\n    const menuClassName = `${cssNamespace}__menu`\n    const menuModifierDisplayMenu = `${menuClassName}--${displayMenu}`\n    const menuIsVisible = menuOpen || showNoOptionsFound\n    const menuModifierVisibility = `${menuClassName}--${(menuIsVisible) ? 'visible' : 'hidden'}`\n\n    const optionClassName = `${cssNamespace}__option`\n\n    const hintClassName = `${cssNamespace}__hint`\n    const selectedOptionText = this.templateInputValue(options[selected])\n    const optionBeginsWithQuery = selectedOptionText &&\n      selectedOptionText.toLowerCase().indexOf(query.toLowerCase()) === 0\n    const hintValue = (optionBeginsWithQuery && autoselect)\n      ? query + selectedOptionText.substr(query.length)\n      : ''\n\n    const assistiveHintID = id + '__assistiveHint'\n    const ariaDescribedProp = (ariaHint) ? {\n      'aria-describedby': assistiveHintID\n    } : null\n\n    let dropdownArrow\n\n    // we only need a dropdown arrow if showAllValues is set to a truthy value\n    if (showAllValues) {\n      dropdownArrow = dropdownArrowFactory({ className: dropdownArrowClassName })\n\n      // if the factory returns a string we'll render this as HTML (usage w/o (P)React)\n      if (typeof dropdownArrow === 'string') {\n        dropdownArrow = <div className={`${cssNamespace}__dropdown-arrow-down-wrapper`} dangerouslySetInnerHTML={{ __html: dropdownArrow }} />\n      }\n    }\n\n    return (\n      <div className={wrapperClassName} onKeyDown={this.handleKeyDown}>\n        <Status\n          id={id}\n          length={options.length}\n          queryLength={query.length}\n          minQueryLength={minLength}\n          selectedOption={this.templateInputValue(options[selected])}\n          selectedOptionIndex={selected}\n          validChoiceMade={validChoiceMade}\n          isInFocus={this.state.focused !== null}\n          tQueryTooShort={tStatusQueryTooShort}\n          tNoResults={tStatusNoResults}\n          tSelectedOption={tStatusSelectedOption}\n          tResults={tStatusResults}\n        />\n\n        {hintValue && (\n          <span><input className={hintClassName} readonly tabIndex='-1' value={hintValue} /></span>\n        )}\n\n        <input\n          aria-expanded={menuOpen ? 'true' : 'false'}\n          aria-activedescendant={optionFocused ? `${id}__option--${focused}` : false}\n          aria-owns={`${id}__listbox`}\n          aria-autocomplete={(this.hasAutoselect()) ? 'both' : 'list'}\n          {...ariaDescribedProp}\n          autoComplete='off'\n          className={`${inputClassName}${inputModifierFocused}${inputModifierType}`}\n          id={id}\n          onClick={(event) => this.handleInputClick(event)}\n          onBlur={this.handleInputBlur}\n          {...onChangeCrossLibrary(this.handleInputChange)}\n          onFocus={this.handleInputFocus}\n          name={name}\n          placeholder={placeholder}\n          ref={(inputElement) => { this.elementReferences[-1] = inputElement }}\n          type='text'\n          role='combobox'\n          required={required}\n          value={query}\n        />\n\n        {dropdownArrow}\n\n        <ul\n          className={`${menuClassName} ${menuModifierDisplayMenu} ${menuModifierVisibility}`}\n          onMouseLeave={(event) => this.handleListMouseLeave(event)}\n          id={`${id}__listbox`}\n          role='listbox'\n        >\n          {options.map((option, index) => {\n            const showFocused = focused === -1 ? selected === index : focused === index\n            const optionModifierFocused = showFocused && hovered === null ? ` ${optionClassName}--focused` : ''\n            const optionModifierOdd = (index % 2) ? ` ${optionClassName}--odd` : ''\n            const iosPosinsetHtml = (isIosDevice())\n              ? `<span id=${id}__option-suffix--${index} style=\"border:0;clip:rect(0 0 0 0);height:1px;` +\n                'marginBottom:-1px;marginRight:-1px;overflow:hidden;padding:0;position:absolute;' +\n                'whiteSpace:nowrap;width:1px\">' + ` ${index + 1} of ${options.length}</span>`\n              : ''\n\n            return (\n              <li\n                aria-selected={focused === index ? 'true' : 'false'}\n                className={`${optionClassName}${optionModifierFocused}${optionModifierOdd}`}\n                dangerouslySetInnerHTML={{ __html: this.templateSuggestion(option) + iosPosinsetHtml }}\n                id={`${id}__option--${index}`}\n                key={index}\n                onBlur={(event) => this.handleOptionBlur(event, index)}\n                onClick={(event) => this.handleOptionClick(event, index)}\n                onMouseDown={this.handleOptionMouseDown}\n                onMouseEnter={(event) => this.handleOptionMouseEnter(event, index)}\n                ref={(optionEl) => { this.elementReferences[index] = optionEl }}\n                role='option'\n                tabIndex='-1'\n                aria-posinset={index + 1}\n                aria-setsize={options.length}\n              />\n            )\n          })}\n\n          {showNoOptionsFound && (\n            <li className={`${optionClassName} ${optionClassName}--no-results`}>{tNoResults()}</li>\n          )}\n        </ul>\n\n        <span id={assistiveHintID} style={{ display: 'none' }}>{tAssistiveHint()}</span>\n\n      </div>\n    )\n  }\n}\n"],"sourceRoot":""}