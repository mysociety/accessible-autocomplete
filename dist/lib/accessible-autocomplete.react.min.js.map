{"version":3,"sources":["webpack://Autocomplete/webpack/universalModuleDefinition","webpack://Autocomplete/webpack/bootstrap","webpack://Autocomplete/external {\"amd\":\"react\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"root\":\"React\"}","webpack://Autocomplete/./status.js","webpack://Autocomplete/./dropdown-arrow-down.js","webpack://Autocomplete/./autocomplete.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Status","state","bump","debounced","componentWillMount","func","wait","immediate","timeout","that","debounceStatusUpdate","shouldSilence","props","isInFocus","validChoiceMade","setState","_ref","silenced","context","args","arguments","callNow","clearTimeout","setTimeout","apply","componentWillReceiveProps","_ref2","queryLength","render","_this$props","id","length","minQueryLength","selectedOption","selectedOptionIndex","tQueryTooShort","tNoResults","tSelectedOption","tResults","_this$state","queryTooShort","noResults","contentSelectedOption","content","external_amd_react_commonjs_react_commonjs2_react_root_React_","style","border","clip","height","marginBottom","marginRight","overflow","padding","position","whiteSpace","width","role","aria-atomic","aria-live","Component","DropdownArrowDown","className","version","xmlns","focusable","stroke","fill","fill-rule","points","defaultProps","index","keyCodes","13","27","32","38","40","isIosDevice","navigator","userAgent","match","Autocomplete","_this","_Component","elementReferences","focused","hovered","menuOpen","options","defaultValue","query","selected","ariaHint","handleComponentBlur","_assertThisInitialized","handleKeyDown","handleUpArrow","handleDownArrow","handleEnter","handlePrintableKey","handleListMouseLeave","handleOptionBlur","handleOptionClick","handleOptionFocus","handleOptionMouseDown","handleOptionMouseEnter","handleInputBlur","handleInputChange","handleInputFocus","pollInputElement","getDirectInputChanges","isQueryAnOption","_this2","map","entry","templateInputValue","toLowerCase","indexOf","componentDidMount","componentWillUnmount","$pollInput","_this3","inputReference","target","componentDidUpdate","prevProps","prevState","componentLostFocus","focusedChanged","focus","focusedInput","componentGainedFocus","inputElement","setSelectionRange","hasAutoselect","autoselect","inputValueTemplate","templates","inputValue","templateSuggestion","suggestionTemplate","suggestion","newState","newQuery","confirmOnBlur","onConfirm","event","_this$state2","focusingOutsideComponent","relatedTarget","focusingInput","focusingAnotherOption","keepMenuOpen","_this$state3","_this4","minLength","source","showAllValues","queryEmpty","queryChanged","queryLongEnough","optionsAvailable","handleInputClick","_this5","selectElement","currentSelectionIndex","_this$state4","shouldReopenMenu","forceUpdate","preventDefault","_this$state5","_this6","_this$state6","handleSpace","_this7","keyCode","dropdownArrow","_this8","_this$props2","cssNamespace","displayMenu","placeholder","required","tStatusQueryTooShort","tStatusNoResults","tStatusSelectedOption","tStatusResults","tAssistiveHint","dropdownArrowFactory","_this$state7","inputFocused","noOptionsAvailable","queryNotEmpty","showNoOptionsFound","wrapperClassName","inputClassName","inputModifierFocused","inputModifierType","dropdownArrowClassName","optionFocused","menuClassName","menuModifierDisplayMenu","menuModifierVisibility","optionClassName","hintClassName","selectedOptionText","hintValue","substr","assistiveHintID","ariaDescribedProp","aria-describedby","dangerouslySetInnerHTML","__html","onKeyDown","status_Status","readonly","tabIndex","_extends","aria-expanded","aria-activedescendant","aria-owns","aria-autocomplete","autoComplete","onClick","onBlur","onChange","onFocus","ref","type","onMouseLeave","option","optionModifierFocused","optionModifierOdd","iosPosinsetHtml","aria-selected","onMouseDown","onMouseEnter","optionEl","aria-posinset","aria-setsize","display"],"mappings":"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","file":"lib/accessible-autocomplete.react.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Autocomplete\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"Autocomplete\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import { createElement, Component } from 'preact' /** @jsx createElement */\n\nconst debounce = function (func, wait, immediate) {\n  var timeout\n  return function () {\n    var context = this\n    var args = arguments\n    var later = function () {\n      timeout = null\n      if (!immediate) func.apply(context, args)\n    }\n    var callNow = immediate && !timeout\n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    if (callNow) func.apply(context, args)\n  }\n}\nconst statusDebounceMillis = 1400\n\nexport default class Status extends Component {\n  static defaultProps = {\n    tQueryTooShort: (minQueryLength) => `Type in ${minQueryLength} or more characters for results`,\n    tNoResults: () => 'No search results',\n    tSelectedOption: (selectedOption, length, index) => `${selectedOption} ${index + 1} of ${length} is highlighted`,\n    tResults: (length, contentSelectedOption) => {\n      const words = {\n        result: (length === 1) ? 'result' : 'results',\n        is: (length === 1) ? 'is' : 'are'\n      }\n\n      return `${length} ${words.result} ${words.is} available. ${contentSelectedOption}`\n    }\n  };\n\n  state = {\n    bump: false,\n    debounced: false\n  }\n\n  componentWillMount () {\n    const that = this\n    this.debounceStatusUpdate = debounce(function () {\n      if (!that.state.debounced) {\n        const shouldSilence = !that.props.isInFocus || that.props.validChoiceMade\n        that.setState(({ bump }) => ({ bump: !bump, debounced: true, silenced: shouldSilence }))\n      }\n    }, statusDebounceMillis)\n  }\n\n  componentWillReceiveProps ({ queryLength }) {\n    this.setState({ debounced: false })\n  }\n\n  render () {\n    const {\n      id,\n      length,\n      queryLength,\n      minQueryLength,\n      selectedOption,\n      selectedOptionIndex,\n      tQueryTooShort,\n      tNoResults,\n      tSelectedOption,\n      tResults\n    } = this.props\n    const { bump, debounced, silenced } = this.state\n\n    const queryTooShort = queryLength < minQueryLength\n    const noResults = length === 0\n\n    const contentSelectedOption = selectedOption\n      ? tSelectedOption(selectedOption, length, selectedOptionIndex)\n      : ''\n\n    let content = null\n    if (queryTooShort) {\n      content = tQueryTooShort(minQueryLength)\n    } else if (noResults) {\n      content = tNoResults()\n    } else {\n      content = tResults(length, contentSelectedOption)\n    }\n\n    this.debounceStatusUpdate()\n\n    return (\n      <div\n        style={{\n          border: '0',\n          clip: 'rect(0 0 0 0)',\n          height: '1px',\n          marginBottom: '-1px',\n          marginRight: '-1px',\n          overflow: 'hidden',\n          padding: '0',\n          position: 'absolute',\n          whiteSpace: 'nowrap',\n          width: '1px'\n        }}>\n        <div\n          id={id + '__status--A'}\n          role='status'\n          aria-atomic='true'\n          aria-live='polite'>\n          {(!silenced && debounced && bump) ? content : ''}\n        </div>\n        <div\n          id={id + '__status--B'}\n          role='status'\n          aria-atomic='true'\n          aria-live='polite'>\n          {(!silenced && debounced && !bump) ? content : ''}\n        </div>\n      </div>\n    )\n  }\n}\n","import { createElement } from 'preact' /** @jsx createElement */\n\nconst DropdownArrowDown = ({ className }) => (\n  <svg version='1.1' xmlns='http://www.w3.org/2000/svg' className={className} focusable='false'>\n    <g stroke='none' fill='none' fill-rule='evenodd'>\n      <polygon fill='#000000' points='0 0 22 0 11 17' />\n    </g>\n  </svg>\n)\n\nexport default DropdownArrowDown\n","import { createElement, Component } from 'preact' /** @jsx createElement */\nimport Status from './status'\nimport DropdownArrowDown from './dropdown-arrow-down'\n\nconst IS_PREACT = process.env.COMPONENT_LIBRARY === 'PREACT'\nconst IS_REACT = process.env.COMPONENT_LIBRARY === 'REACT'\n\nconst keyCodes = {\n  13: 'enter',\n  27: 'escape',\n  32: 'space',\n  38: 'up',\n  40: 'down'\n}\n\nfunction isIosDevice () {\n  return typeof navigator !== 'undefined' && !!(navigator.userAgent.match(/(iPod|iPhone|iPad)/g) && navigator.userAgent.match(/AppleWebKit/g))\n}\n\nfunction isPrintableKeyCode (keyCode) {\n  return (\n    (keyCode > 47 && keyCode < 58) || // number keys\n    keyCode === 32 || keyCode === 8 || // spacebar or backspace\n    (keyCode > 64 && keyCode < 91) || // letter keys\n    (keyCode > 95 && keyCode < 112) || // numpad keys\n    (keyCode > 185 && keyCode < 193) || // ;=,-./` (in order)\n    (keyCode > 218 && keyCode < 223) // [\\]' (in order)\n  )\n}\n\n// Preact does not implement onChange on inputs, but React does.\nfunction onChangeCrossLibrary (handler) {\n  if (IS_PREACT) { return { onInput: handler } }\n  if (IS_REACT) { return { onChange: handler } }\n}\n\nexport default class Autocomplete extends Component {\n  static defaultProps = {\n    autoselect: false,\n    cssNamespace: 'autocomplete',\n    defaultValue: '',\n    displayMenu: 'inline',\n    minLength: 0,\n    name: 'input-autocomplete',\n    placeholder: '',\n    onConfirm: () => {},\n    confirmOnBlur: true,\n    showNoOptionsFound: true,\n    showAllValues: false,\n    required: false,\n    tNoResults: () => 'No results found',\n    tAssistiveHint: () => 'When autocomplete results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures.',\n    dropdownArrow: DropdownArrowDown\n  }\n\n  elementReferences = {}\n\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      focused: null,\n      hovered: null,\n      menuOpen: false,\n      options: props.defaultValue ? [props.defaultValue] : [],\n      query: props.defaultValue,\n      validChoiceMade: false,\n      selected: null,\n      ariaHint: true\n    }\n\n    this.handleComponentBlur = this.handleComponentBlur.bind(this)\n    this.handleKeyDown = this.handleKeyDown.bind(this)\n    this.handleUpArrow = this.handleUpArrow.bind(this)\n    this.handleDownArrow = this.handleDownArrow.bind(this)\n    this.handleEnter = this.handleEnter.bind(this)\n    this.handlePrintableKey = this.handlePrintableKey.bind(this)\n\n    this.handleListMouseLeave = this.handleListMouseLeave.bind(this)\n\n    this.handleOptionBlur = this.handleOptionBlur.bind(this)\n    this.handleOptionClick = this.handleOptionClick.bind(this)\n    this.handleOptionFocus = this.handleOptionFocus.bind(this)\n    this.handleOptionMouseDown = this.handleOptionMouseDown.bind(this)\n    this.handleOptionMouseEnter = this.handleOptionMouseEnter.bind(this)\n\n    this.handleInputBlur = this.handleInputBlur.bind(this)\n    this.handleInputChange = this.handleInputChange.bind(this)\n    this.handleInputFocus = this.handleInputFocus.bind(this)\n\n    this.pollInputElement = this.pollInputElement.bind(this)\n    this.getDirectInputChanges = this.getDirectInputChanges.bind(this)\n  }\n\n  isQueryAnOption (query, options) {\n    return options.map(entry => this.templateInputValue(entry).toLowerCase()).indexOf(query.toLowerCase()) !== -1\n  }\n\n  componentDidMount () {\n    this.pollInputElement()\n  }\n\n  componentWillUnmount () {\n    clearTimeout(this.$pollInput)\n  }\n\n  // Applications like Dragon NaturallySpeaking will modify the\n  // `input` field by directly changing its `.value`. These events\n  // don't trigger our JavaScript event listeners, so we need to poll\n  // to handle when and if they occur.\n  pollInputElement () {\n    this.getDirectInputChanges()\n    this.$pollInput = setTimeout(() => {\n      this.pollInputElement()\n    }, 100)\n  }\n\n  getDirectInputChanges () {\n    const inputReference = this.elementReferences[-1]\n    const queryHasChanged = inputReference && inputReference.value !== this.state.query\n\n    if (queryHasChanged) {\n      this.handleInputChange({ target: { value: inputReference.value } })\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    const { focused } = this.state\n    const componentLostFocus = focused === null\n    const focusedChanged = prevState.focused !== focused\n    const focusDifferentElement = focusedChanged && !componentLostFocus\n    if (focusDifferentElement) {\n      this.elementReferences[focused].focus()\n    }\n    const focusedInput = focused === -1\n    const componentGainedFocus = focusedChanged && prevState.focused === null\n    const selectAllText = focusedInput && componentGainedFocus\n    if (selectAllText) {\n      const inputElement = this.elementReferences[focused]\n      inputElement.setSelectionRange(0, inputElement.value.length)\n    }\n  }\n\n  hasAutoselect () {\n    return isIosDevice() ? false : this.props.autoselect\n  }\n\n  // This template is used when converting from a state.options object into a state.query.\n  templateInputValue (value) {\n    const inputValueTemplate = this.props.templates && this.props.templates.inputValue\n    return inputValueTemplate ? inputValueTemplate(value) : value\n  }\n\n  // This template is used when displaying results / suggestions.\n  templateSuggestion (value) {\n    const suggestionTemplate = this.props.templates && this.props.templates.suggestion\n    return suggestionTemplate ? suggestionTemplate(value) : value\n  }\n\n  handleComponentBlur (newState) {\n    const { options, query, selected } = this.state\n    let newQuery\n    if (this.props.confirmOnBlur) {\n      newQuery = newState.query || query\n      this.props.onConfirm(options[selected])\n    } else {\n      newQuery = query\n    }\n    this.setState({\n      focused: null,\n      menuOpen: newState.menuOpen || false,\n      query: newQuery,\n      selected: null,\n      validChoiceMade: this.isQueryAnOption(newQuery, options)\n    })\n  }\n\n  handleListMouseLeave (event) {\n    this.setState({\n      hovered: null\n    })\n  }\n\n  handleOptionBlur (event, index) {\n    const { focused, menuOpen, options, selected } = this.state\n    const focusingOutsideComponent = event.relatedTarget === null\n    const focusingInput = event.relatedTarget === this.elementReferences[-1]\n    const focusingAnotherOption = focused !== index && focused !== -1\n    const blurComponent = (!focusingAnotherOption && focusingOutsideComponent) || !(focusingAnotherOption || focusingInput)\n    if (blurComponent) {\n      const keepMenuOpen = menuOpen && isIosDevice()\n      this.handleComponentBlur({\n        menuOpen: keepMenuOpen,\n        query: this.templateInputValue(options[selected])\n      })\n    }\n  }\n\n  handleInputBlur (event) {\n    const { focused, menuOpen, options, query, selected } = this.state\n    const focusingAnOption = focused !== -1\n    if (!focusingAnOption) {\n      const keepMenuOpen = menuOpen && isIosDevice()\n      const newQuery = isIosDevice() ? query : this.templateInputValue(options[selected])\n      this.handleComponentBlur({\n        menuOpen: keepMenuOpen,\n        query: newQuery\n      })\n    }\n  }\n\n  handleInputChange (event) {\n    const { minLength, source, showAllValues } = this.props\n    const autoselect = this.hasAutoselect()\n    const query = event.target.value\n    const queryEmpty = query.length === 0\n    const queryChanged = this.state.query.length !== query.length\n    const queryLongEnough = query.length >= minLength\n\n    this.setState({\n      query,\n      ariaHint: queryEmpty\n    })\n\n    const searchForOptions = showAllValues || (!queryEmpty && queryChanged && queryLongEnough)\n    if (searchForOptions) {\n      source(query, (options) => {\n        const optionsAvailable = options.length > 0\n        this.setState({\n          menuOpen: optionsAvailable,\n          options,\n          selected: (autoselect && optionsAvailable) ? 0 : -1,\n          validChoiceMade: false\n        })\n      })\n    } else if (queryEmpty || !queryLongEnough) {\n      this.setState({\n        menuOpen: false,\n        options: []\n      })\n    }\n  }\n\n  handleInputClick (event) {\n    if (this.props.selectElement) {\n      if (this.state.menuOpen === false) {\n        this.props.source('', (options) => {\n          let currentSelectionIndex = options.indexOf(this.state.query)\n\n          this.setState({\n            menuOpen: true,\n            options,\n            focused: currentSelectionIndex,\n            selected: currentSelectionIndex,\n            hovered: null\n          })\n        })\n      } else {\n        this.handleComponentBlur({\n          menuOpen: false\n        }, true)\n      }\n    } else {\n      this.handleInputChange(event)\n    }\n  }\n\n  handleInputFocus (event) {\n    if (this.props.selectElement) {\n      return\n    }\n    const { query, validChoiceMade, options } = this.state\n    const { minLength } = this.props\n    const shouldReopenMenu = query && !validChoiceMade && query.length >= minLength && options.length > 0\n\n    if (shouldReopenMenu) {\n      this.setState(({ menuOpen }) => ({ focused: -1, menuOpen: shouldReopenMenu || menuOpen, selected: -1 }))\n    } else {\n      this.setState({ focused: -1 })\n    }\n  }\n\n  handleOptionFocus (index) {\n    this.setState({\n      focused: index,\n      hovered: null,\n      selected: index\n    })\n  }\n\n  handleOptionMouseEnter (event, index) {\n    // iOS Safari prevents click event if mouseenter adds hover background colour\n    // See: https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/HandlingEvents/HandlingEvents.html#//apple_ref/doc/uid/TP40006511-SW4\n    if (!isIosDevice()) {\n      this.setState({\n        hovered: index\n      })\n    }\n  }\n\n  handleOptionClick (event, index) {\n    const selectedOption = this.state.options[index]\n    const newQuery = this.templateInputValue(selectedOption)\n    this.props.onConfirm(selectedOption)\n    this.setState({\n      focused: -1,\n      hovered: null,\n      menuOpen: false,\n      query: newQuery,\n      selected: -1,\n      validChoiceMade: true\n    })\n    this.forceUpdate()\n  }\n\n  handleOptionMouseDown (event) {\n    // Safari triggers focusOut before click, but if you\n    // preventDefault on mouseDown, you can stop that from happening.\n    // If this is removed, clicking on an option in Safari will trigger\n    // `handleOptionBlur`, which closes the menu, and the click will\n    // trigger on the element underneath instead.\n    // See: http://stackoverflow.com/questions/7621711/how-to-prevent-blur-running-when-clicking-a-link-in-jquery\n    event.preventDefault()\n  }\n\n  handleUpArrow (event) {\n    event.preventDefault()\n    const { menuOpen, selected } = this.state\n    const isNotAtTop = selected !== -1\n    const allowMoveUp = isNotAtTop && menuOpen\n    if (allowMoveUp) {\n      this.handleOptionFocus(selected - 1)\n    }\n  }\n\n  handleDownArrow (event) {\n    event.preventDefault()\n    // if not open, open\n    if (this.props.showAllValues && this.state.menuOpen === false) {\n      event.preventDefault()\n      this.props.source('', (options) => {\n        this.setState({\n          menuOpen: true,\n          options,\n          selected: 0,\n          focused: 0,\n          hovered: null\n        })\n      })\n    } else if (this.state.menuOpen === true) {\n      const { menuOpen, options, selected } = this.state\n      const isNotAtBottom = selected !== options.length - 1\n      const allowMoveDown = isNotAtBottom && menuOpen\n      if (allowMoveDown) {\n        this.handleOptionFocus(selected + 1)\n      }\n    }\n  }\n\n  handleSpace (event) {\n    // if not open, open\n    if (this.props.showAllValues && this.state.menuOpen === false && this.state.query === '') {\n      event.preventDefault()\n      this.props.source('', (options) => {\n        this.setState({\n          menuOpen: true,\n          options\n        })\n      })\n    }\n    const focusIsOnOption = this.state.focused !== -1\n    if (focusIsOnOption) {\n      event.preventDefault()\n      this.handleOptionClick(event, this.state.focused)\n    }\n  }\n\n  handleEnter (event) {\n    if (this.state.menuOpen) {\n      event.preventDefault()\n      const hasSelectedOption = this.state.selected >= 0\n      if (hasSelectedOption) {\n        this.handleOptionClick(event, this.state.selected)\n      }\n    }\n  }\n\n  handlePrintableKey (event) {\n    const inputElement = this.elementReferences[-1]\n    const eventIsOnInput = event.target === inputElement\n    if (!eventIsOnInput) {\n      // FIXME: This would be better if it was in componentDidUpdate,\n      // but using setState to trigger that seems to not work correctly\n      // in preact@8.1.0.\n      inputElement.focus()\n    }\n  }\n\n  handleKeyDown (event) {\n    switch (keyCodes[event.keyCode]) {\n      case 'up':\n        this.handleUpArrow(event)\n        break\n      case 'down':\n        this.handleDownArrow(event)\n        break\n      case 'space':\n        this.handleSpace(event)\n        break\n      case 'enter':\n        this.handleEnter(event)\n        break\n      case 'escape':\n        this.handleComponentBlur({\n          query: this.state.query\n        })\n        break\n      default:\n        if (isPrintableKeyCode(event.keyCode)) {\n          this.handlePrintableKey(event)\n        }\n        break\n    }\n  }\n\n  render () {\n    const {\n      cssNamespace,\n      displayMenu,\n      id,\n      minLength,\n      name,\n      placeholder,\n      required,\n      showAllValues,\n      tNoResults,\n      tStatusQueryTooShort,\n      tStatusNoResults,\n      tStatusSelectedOption,\n      tStatusResults,\n      tAssistiveHint,\n      dropdownArrow: dropdownArrowFactory\n    } = this.props\n    const { focused, hovered, menuOpen, options, query, selected, ariaHint, validChoiceMade } = this.state\n    const autoselect = this.hasAutoselect()\n\n    const inputFocused = focused === -1\n    const noOptionsAvailable = options.length === 0\n    const queryNotEmpty = query.length !== 0\n    const queryLongEnough = query.length >= minLength\n    const showNoOptionsFound = this.props.showNoOptionsFound &&\n      inputFocused && noOptionsAvailable && queryNotEmpty && queryLongEnough\n\n    const wrapperClassName = `${cssNamespace}__wrapper`\n\n    const inputClassName = `${cssNamespace}__input`\n    const componentIsFocused = focused !== null\n    const inputModifierFocused = componentIsFocused ? ` ${inputClassName}--focused` : ''\n    const inputModifierType = this.props.showAllValues ? ` ${inputClassName}--show-all-values` : ` ${inputClassName}--default`\n    const dropdownArrowClassName = `${cssNamespace}__dropdown-arrow-down`\n    const optionFocused = focused !== -1 && focused !== null\n\n    const menuClassName = `${cssNamespace}__menu`\n    const menuModifierDisplayMenu = `${menuClassName}--${displayMenu}`\n    const menuIsVisible = menuOpen || showNoOptionsFound\n    const menuModifierVisibility = `${menuClassName}--${(menuIsVisible) ? 'visible' : 'hidden'}`\n\n    const optionClassName = `${cssNamespace}__option`\n\n    const hintClassName = `${cssNamespace}__hint`\n    const selectedOptionText = this.templateInputValue(options[selected])\n    const optionBeginsWithQuery = selectedOptionText &&\n      selectedOptionText.toLowerCase().indexOf(query.toLowerCase()) === 0\n    const hintValue = (optionBeginsWithQuery && autoselect)\n      ? query + selectedOptionText.substr(query.length)\n      : ''\n\n    const assistiveHintID = id + '__assistiveHint'\n    const ariaDescribedProp = (ariaHint) ? {\n      'aria-describedby': assistiveHintID\n    } : null\n\n    let dropdownArrow\n\n    // we only need a dropdown arrow if showAllValues is set to a truthy value\n    if (showAllValues) {\n      dropdownArrow = dropdownArrowFactory({ className: dropdownArrowClassName })\n\n      // if the factory returns a string we'll render this as HTML (usage w/o (P)React)\n      if (typeof dropdownArrow === 'string') {\n        dropdownArrow = <div className={`${cssNamespace}__dropdown-arrow-down-wrapper`} dangerouslySetInnerHTML={{ __html: dropdownArrow }} />\n      }\n    }\n\n    return (\n      <div className={wrapperClassName} onKeyDown={this.handleKeyDown}>\n        <Status\n          id={id}\n          length={options.length}\n          queryLength={query.length}\n          minQueryLength={minLength}\n          selectedOption={this.templateInputValue(options[selected])}\n          selectedOptionIndex={selected}\n          validChoiceMade={validChoiceMade}\n          isInFocus={this.state.focused !== null}\n          tQueryTooShort={tStatusQueryTooShort}\n          tNoResults={tStatusNoResults}\n          tSelectedOption={tStatusSelectedOption}\n          tResults={tStatusResults}\n        />\n\n        {hintValue && (\n          <span><input className={hintClassName} readonly tabIndex='-1' value={hintValue} /></span>\n        )}\n\n        <input\n          aria-expanded={menuOpen ? 'true' : 'false'}\n          aria-activedescendant={optionFocused ? `${id}__option--${focused}` : false}\n          aria-owns={`${id}__listbox`}\n          aria-autocomplete={(this.hasAutoselect()) ? 'both' : 'list'}\n          {...ariaDescribedProp}\n          autoComplete='off'\n          className={`${inputClassName}${inputModifierFocused}${inputModifierType}`}\n          id={id}\n          onClick={(event) => this.handleInputClick(event)}\n          onBlur={this.handleInputBlur}\n          {...onChangeCrossLibrary(this.handleInputChange)}\n          onFocus={this.handleInputFocus}\n          name={name}\n          placeholder={placeholder}\n          ref={(inputElement) => { this.elementReferences[-1] = inputElement }}\n          type='text'\n          role='combobox'\n          required={required}\n          value={query}\n        />\n\n        {dropdownArrow}\n\n        <ul\n          className={`${menuClassName} ${menuModifierDisplayMenu} ${menuModifierVisibility}`}\n          onMouseLeave={(event) => this.handleListMouseLeave(event)}\n          id={`${id}__listbox`}\n          role='listbox'\n        >\n          {options.map((option, index) => {\n            const showFocused = focused === -1 ? selected === index : focused === index\n            const optionModifierFocused = showFocused && hovered === null ? ` ${optionClassName}--focused` : ''\n            const optionModifierOdd = (index % 2) ? ` ${optionClassName}--odd` : ''\n            const iosPosinsetHtml = (isIosDevice())\n              ? `<span id=${id}__option-suffix--${index} style=\"border:0;clip:rect(0 0 0 0);height:1px;` +\n                'marginBottom:-1px;marginRight:-1px;overflow:hidden;padding:0;position:absolute;' +\n                'whiteSpace:nowrap;width:1px\">' + ` ${index + 1} of ${options.length}</span>`\n              : ''\n\n            return (\n              <li\n                aria-selected={focused === index ? 'true' : 'false'}\n                className={`${optionClassName}${optionModifierFocused}${optionModifierOdd}`}\n                dangerouslySetInnerHTML={{ __html: this.templateSuggestion(option) + iosPosinsetHtml }}\n                id={`${id}__option--${index}`}\n                key={index}\n                onBlur={(event) => this.handleOptionBlur(event, index)}\n                onClick={(event) => this.handleOptionClick(event, index)}\n                onMouseDown={this.handleOptionMouseDown}\n                onMouseEnter={(event) => this.handleOptionMouseEnter(event, index)}\n                ref={(optionEl) => { this.elementReferences[index] = optionEl }}\n                role='option'\n                tabIndex='-1'\n                aria-posinset={index + 1}\n                aria-setsize={options.length}\n              />\n            )\n          })}\n\n          {showNoOptionsFound && (\n            <li className={`${optionClassName} ${optionClassName}--no-results`}>{tNoResults()}</li>\n          )}\n        </ul>\n\n        <span id={assistiveHintID} style={{ display: 'none' }}>{tAssistiveHint()}</span>\n\n      </div>\n    )\n  }\n}\n"],"sourceRoot":""}